<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="stylesNum.css">
  <script src="donnees-Num.js"></script> <!-- Ajout du fichier JavaScript -->
  <title>Messier_Num</title>
</head>
<body>
  <h1 style="margin-left: 50px;">Messier en ordre croissant</h1>
    <p></p>
  <div id="resultat"></div> <!-- Ajout de la div pour afficher le résultat -->
  <div class="tableau-periodique">
    <!-- Génération des éléments à partir des données -->
    <script>
      let vignettesSup300px = 0;
      let totalImages = objetsMessier.length;

      for (const objet of objetsMessier) {
        const nomFichierAvecExtension = objet.image.split('/').pop();
        const nomFichierSansExtension = nomFichierAvecExtension.split('-')[0];
        const nomApostropheEchappe = objet.nom.replace('\'', '\\\'');

        const imgElement = document.createElement('img');
        imgElement.src = objet.image;
        imgElement.onload = function() {
          if (imgElement.width > 300) {
            vignettesSup300px++;
          }

          if (--totalImages === 0) {
            const resultatDiv = document.getElementById('resultat');
            resultatDiv.textContent = `Nombre de photos : ${vignettesSup300px} sur 110`;
          }
        };

        document.write(`
          <div class="element" onclick="afficherImage('${objet.image}', '${nomApostropheEchappe}', '${objet.constellation}', '${objet.saison}', '${objet.difficulté}')">
            <img src="${objet.image}" alt="${objet.nom}">${nomFichierSansExtension}
          </div>
        `);
      }
    </script>
  </div>

  <!-- Affichage de l'M en grand -->
  <div id="image-grande" class="image-grande" onclick="cacherImage()">
    <div class="conteneur-image">
      <img id="image-affichee" src="images/demarrage.png" alt="M de l'objet Messier">
      <div id="infos-image" class="infos-image">
        <div id="nom-objet" class="nom-objet"></div>
        <div id="constellation" class="constellation"></div>
        <div id="saison" class="saison"></div>
        <div id="difficulté" class="difficulté"></div>
      </div>
    </div>
  </div>

  <script src="appNum.js"></script>
</body>
</html>
